"use strict";!function(a,e){var t,i=a.document,n=i.documentElement,r=i.querySelector('meta[name="viewport"]'),o=i.querySelector('meta[name="flexible"]'),l=0,s=0,d=e.flexible||(e.flexible={});if(o){var m=o.getAttribute("content");if(m){var p=m.match(/initial\-dpr=([\d\.]+)/),c=m.match(/maximum\-dpr=([\d\.]+)/);p&&(l=parseFloat(p[1]),s=parseFloat((1/l).toFixed(2))),c&&(l=parseFloat(c[1]),s=parseFloat((1/l).toFixed(2)))}}if(!l&&!s){a.navigator.appVersion.match(/android/gi),a.navigator.appVersion.match(/iphone/gi);var f=a.devicePixelRatio;s=1/(l=3<=f&&(!l||3<=l)?3:2<=f&&(!l||2<=l)?2:1)}if(n.setAttribute("data-dpr",l),(r=i.createElement("meta")).setAttribute("name","viewport"),r.setAttribute("content","width=device-width, initial-scale="+s+", maximum-scale="+s+", minimum-scale="+s+", user-scalable=no"),n.firstElementChild)n.firstElementChild.appendChild(r);else{var u=i.createElement("div");u.appendChild(r),i.write(u.innerHTML)}function v(){var e=n.getBoundingClientRect().width;540<e/l&&(e=540*l);var t=e/10;n.style.fontSize=t+"px",d.rem=a.rem=t;var i=parseFloat(n.style.fontSize),r=parseFloat(window.getComputedStyle(n).getPropertyValue("font-size"));console.log("flexible.refreshRem: fontSize && finalFontSize => ",i,r),i!==r&&(n.style.fontSize=i*(i/r)+"px")}a.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(v,300)},!1),a.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(t),t=setTimeout(v,300))},!1),"complete"===i.readyState?i.body.style.fontSize=12*l+"px":i.addEventListener("DOMContentLoaded",function(e){i.body.style.fontSize=12*l+"px"},!1),v(),d.dpr=a.dpr=l,d.refreshRem=v,d.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},d.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}));