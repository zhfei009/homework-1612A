<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/swiper.css">
</head>

<body>

    <div class="box">
        <div class="main">
            <div class="swiper-container">
                <div class="swiper-wrapper">

                </div>
                <div class="swiper-pagination">

                </div>
            </div>
        </div>

    </div>
    <script src="./js/swiper.min.js"></script>
    <script>
        const swipermain = document.querySelector('.swiper-wrapper')
        const xhr = new XMLHttpRequest
        xhr.open('get', '/api/find', true)
        xhr.send()
        xhr.onreadystatechange = function() {
            if (xhr.readyState == 4 && xhr.status == 200) {
                readr(JSON.parse(xhr.responseText).data)
            }
        }

        function readr(data) {
            let str = ''
            data.forEach(item => {
                console.log(item)
                str += `  <div class="swiper-slide">
                                        <img src="./images/${item.imgs}" alt="">
                                        <div class="div">${item.content}</div>
                                    </div>`
            })
            swipermain.innerHTML = str

            let swiper = new Swiper('.swiper-container', {
                direction: 'vertical',
                loop: true,
                pagination: {
                    el: '.swiper-pagination'
                }
            })
        }
    </script>
</body>

</html>